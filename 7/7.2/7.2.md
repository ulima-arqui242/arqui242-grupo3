# 7.2. Patrones de Componente y Conector

## PDCC 1: Patrón Cliente Servidor vs. Peer to Peer

### Descripción

InStudio debe garantizar la consistencia de los datos y ofrecer una gestión de seguridad robusta para proteger la información sensible tanto de los salones de belleza como de los clientes. Por lo que evaluán los patrones para la distribución de tareas Cliente Servidor y Peer to Peer.

### Alternativas

#### **1. Cliente Servidor**

Organiza el sistema en dos roles principales: **clientes** que representan a los usuarios y salones de belleza que interactúan con la plataforma mediante aplicaciones web y móviles, y **servidores** que manejan la lógica de negocio y procesan solicitudes relacionadas con la gestión de usuarios, reservas, notificaciones y analíticas.

- **Ventajas:**

  - Estandarización: Compatible con protocolos como HTTPS para una comunicación segura y eficiente.
  - Desacoplamiento: Los clientes pueden evolucionar independientemente del backend, promoviendo mantenibilidad.
  - Escalabilidad: Integración directa con una arquitectura de microservicios que permite escalar servicios específicos según la demanda.

- **Desventajas:**

  - Punto único de fallo: Si el servidor central experimenta problemas, el acceso al sistema puede verse afectado.
  - Altos volúmenes de solicitudes sobrecarga del servidor.

#### **2. Peer to Peer**

Utiliza nodos que funcionan simultáneamente como clientes y servidores, permitiendo la comunicación directa entre ellos sin depender de un servidor central.

- **Ventajas:**

  - Descentralización: Elimina el punto único de fallo y distribuye la carga de trabajo entre todos los nodos.
  - Resiliencia: Mejora la disponibilidad, ya que la falla de un nodo no interrumpe el sistema completo.
  - Eficiencia en redelocales: Reduce la latencia al permitir la comunicación directa entre nodos cercanos.

- **Desventajas:**

  - Gestión de datos compleja: Difícil de garantizar la consistencia de los datos.
  - Seguridad: Ausencia de un control centralizado puede dificultar la autenticación y la protección.
  - Sobrecarga en los nodos: Cada nodo debe gestionar tanto su propia lógica como las solicitudes de otros nodos.

### Criterios de Elección

- Centralización: La necesidad de un control centralizado y la consistencia de los datos son críticas para InStudio.
- Escalabilidad: Se requiere escalar servicios específicos (como reservas o analíticas) de manera eficiente.
- Seguridad: Garantizar la autenticación y el acceso seguro a los servicios es prioritario.

### Decisión

Se elige el patrón Cliente Servidor.

### Sustento

El patrón cliente-servidor es más adecuado porque permite un control centralizado, lo que facilita la gestión eficiente de funcionalidades críticas, como los pagos, reserva de citas y visualización de analíticas, asegurando la consistencia. Favorece la separación de esponsabilidades y la escalabilidad de servicios. Facilita la gestión de seguridad, centralizando la autenticación y autorización. Por otro lado, el patrón Peer to Peer no se ajusta a los requisitos debido a las dificultades para garantizar la consistencia de los datos y seguridad.

## PDCC 2: Comunicación entre microservicios

### Descripción

InStudio, al ser una aplicación con una arquitectura de microservicios en lugar de monolítica, debe comunicar los servicios entre sí para mantener todo organizado, sincronizado y en comunicación entre los servicios independientes.

### Alternativas

#### 1. Publicar-Suscribir (Publish-Subscribe)

Consiste que servicios pueden escuchar y emitir eventos. Cuando un servicio emite un evento, los servicios suscritos a estos se ejecutan, pudiendo emitir otros, como no.
- **Ventajas:**
  - Desacomplamiento entre servicios
- **Desventajas:**
  - Complejdad en la gesitón de eventos
  - Dificultad para depurar y rastear eventos
  
#### 2. Bus de eventos 

Consiste que todos los servicios están conectados a un bus de eventos que permite la comunicación entre todos los servicios.

- **Ventajas:**
  - Desacomplamiento entre servicios
- **Desventajas:**



### Criterios de Elección

### Decisión


### Sustento