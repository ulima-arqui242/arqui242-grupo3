# 0.4. Lambda AWS - Eduardo Ramón

## Informe Teórico
Según Amazon, "[AWS Lambda](https://aws.amazon.com/es/lambda/ 
) es un servicio informático sin servidor, que ejecuta código en respuesta a eventos y administra los recursos informáticos por usted". De esta manera, los desarrolladores pueden centrarse en escribir código y mejorar la experiencia del usuario, mientras AWS se encarga de la infraestructura.

### ¿Cómo funciona AWS Lambda?

Como fue dicho, Lambda ejecuta código en respuesta a eventos como cargas de archivos en Amazon S3, cambios en tablas de una base de datos como DynamoDB, datos recibidos en flujos de Amazon Kinesis o solicitudes HTTP mediante API Gateway, entre otros.

#### Características Clave:
- **Costo por uso:** Se paga solo por el tiempo que el código se ejecuta.
- **Soporte para varios lenguajes:** Como Node.js, Python, Java, entre otros, e incluso permite cargar un propio `runtime` en cualquier lenguaje de programación.
- **Integración con otros servicios de AWS:** S3, DynamoDB, Kinesis, SNS, entre otros.
- **Escalabilidad automática:** Lambda ajusta automáticamente la cantidad de recursos asignados dependiendo de la carga.

### Casos Prácticos

#### Procesamiento en Tiempo Real
La transformación de imágenes o la manipulación de archivos subidos a un S3 en tiempo real pueden ser realizados por Lambda. También puede ser utilizado para generar respuestas rápidas a eventos, como en sistemas de monitoreo o en aplicaciones con lógica en tiempo real.

#### Automatización de Tareas
Puedes usar Lambda para automatizar tareas de backend. Por ejemplo, cuando un usuario sube un archivo a S3, Lambda puede procesar automáticamente ese archivo (comprimirlo, indexarlo, o convertirlo a otro formato).

#### API sin Servidor
Lambda es ideal para construir APIs RESTful usando AWS API Gateway. Esto permite que las aplicaciones móviles y web se comuniquen con el backend de manera eficiente, sin la necesidad de gestionar servidores tradicionales.

### Ventajas de AWS Lambda

 - **Reducción en la gestión de infraestructura** Con Lambda, no es necesario mantener servidores físicos ni virtuales. AWS se encarga de la administración, escalado y parches de seguridad.

 - **Escalabilidad automática** Lambda se escala automáticamente en función de la demanda, asegurando que las aplicaciones respondan adecuadamente en momentos de alta carga.

 - **Bajo costo** No hay costos iniciales. Solo pagas por las ejecuciones que se realizan. Además, Lambda forma parte del nivel gratuito de AWS, permitiendo que los nuevos usuarios lo prueben sin costo alguno hasta ciertos límites.

- **Facilidad de uso** Se puede usar código existente y subirlo como un archivo comprimido (ZIP). También puedes escribir código directamente desde la consola de AWS, y no necesitas aprender nuevas herramientas o lenguajes.

### Limitaciones de AWS Lambda

 - **Tiempo máximo de ejecución** Las funciones Lambda tienen un tiempo máximo de ejecución de 15 minutos.

 - **Restricciones en memoria y almacenamiento** La memoria asignada puede variar entre 128 MB y 10 GB. El tamaño del código comprimido no puede exceder los 50 MB, y el descomprimido tiene un límite de 250 MB.

 - **Invocaciones simultáneas** Lambda tiene un límite de 1000 invocaciones simultáneas por región, aunque este límite se puede aumentar bajo solicitud.

 - **No apto para cargas constantes** Lambda está diseñado para tareas pequeñas e intermitentes. Para aplicaciones con cargas constantes o procesos de larga duración, puede no ser la mejor opción.

### Cuándo Usar AWS Lambda

- **Procesamiento de eventos en tiempo real**: como cargar archivos, procesar imágenes o manejar streams de datos.
- **Automatización de tareas backend**: ideal para ejecutar tareas intermitentes, como la gestión de notificaciones o la actualización de bases de datos.
- **Desarrollo de microservicios**: puedes implementar microservicios ligeros que respondan a eventos específicos sin necesidad de gestionar infraestructura adicional.

### Cuándo No Usar AWS Lambda

- **Tareas largas o computacionalmente intensivas**: debido a las limitaciones de tiempo y recursos, Lambda no es adecuado para procesos complejos o que necesiten más de 15 minutos.
- **Cargas de trabajo constantes o a gran escala**: para cargas de trabajo que requieren recursos constantemente activos, una solución tradicional basada en servidores o contenedores puede ser más adecuada.

## Informe Técnico
Como se mencionó previamente, AWS Lambda es ideal para tareas intermitentes que se ejecutan de forma regular, pero no requieren tiempos prolongados de procesamiento. Por esta razón, en el módulo de analíticas y generación de reportes de InStudio, se adoptó un enfoque basado en eventos (Event-Driven), ya que se ajusta perfectamente al modelo de negocio y permite aprovechar las ventajas de este servicio. A continuación se muestra la estructura de los componentes utilizados y la relación entre ellos:

- **Eventos de Reserva:** Al realizar una nueva reserva, se genera un evento que es capturado por un servicio de mensajería (Amazon SQS).
- **Función Lambda:** Este evento activa una función Lambda que procesa la información de la reserva generada y la guarda en un archivo Parquet.
- **Almacenamiento en S3:** Los archivos Parquet generados por la función Lambda se almacenan en un bucket de Amazon S3.
- **Base de Datos Columnar:** Para el análisis, se utiliza DuckDB, que puede leer directamente desde los archivos Parquet almacenados en S3.
- **Generación de Reportes:** Desde DuckDB, se pueden generar reportes que se envían a los salones de belleza con métricas clave sobre sus reservas.





## Referencias
AWS | Lambda - Gestión de recursos informáticos. (n.d.). Amazon Web Services, Inc. https://aws.amazon.com/es/lambda/

