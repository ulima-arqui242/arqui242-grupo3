# 4.1. Disponibilidad


## TÁCTICAS DE DISPONIBILIDAD

### Escenario Módulo de Gestión De Reservas

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo**                           | **Fuente del Estímulo** | **Artefacto**                  | **Entorno**                         | **Respuesta**                                                | **Medida de Respuesta**                             |
|------------------|-------------------------|----------------------------------------|-------------------------|--------------------------------|-------------------------------------|-------------------------------------------------------------|-----------------------------------------------------|
| ESC-01         | Disponibilidad           | Caída de la conexión a la base de datos para la Gestón de Reservas  | Desconexión o fallo de la base de datos en la nube   | Módulo de Consultas de Disponibilidad de Salones (Gestión de Reservas) | Durante una consulta de disponibilidad de horarios en horas pico (fines de semana y festivos) | El sistema debe continuar funcionando, permitiendo que los usuarios visualicen horarios y disponibilidad de forma temporal desde una réplica de la base de datos. | El sistema garantiza una disponibilidad continua de la información con un tiempo de recuperación inferior a 2 segundos. |

### Táctica Elegida
Se elige la táctica de replicación de base de datos, donde una réplica de solo lectura está disponible en caso de que la base de datos principal falle. Esto permite que las consultas de disponibilidad sigan operando sin interrupción.

### Documentación de la Decisión (ADR)
 
**Titulo:** Elección entre Replicación de Base de Datos vs Estrategia de Caché para el Módulo de Consultas de Disponibilidad

**Contexto**:  
La app de salones de belleza maneja un alto volumen de consultas durante periodos de alta demanda, especialmente fines de semana y festivos. La caída de la base de datos puede interrumpir el flujo de reservas, afectando la experiencia de los usuarios y la reputación de los salones.

**Alternativas**:
1. **Replicación de Base de Datos**  
   - Se mantiene una réplica de solo lectura de la base de datos, sincronizada periódicamente con la base de datos principal.
   - Permite que el sistema siga proporcionando datos sobre la disponibilidad de horarios en caso de que la base de datos principal falle.
   - Requiere una infraestructura adicional, pero minimiza el impacto en la experiencia del usuario.

2. **Estrategia de Caché:**  
   - Se almacena en caché la información sobre la disponibilidad de horarios en el servidor de la aplicación.
   - Cuando la base de datos no está disponible, el sistema proporciona información basada en el caché.
   - Menor costo operativo, pero la información puede no estar completamente actualizada, afectando la consistencia.

**Criterios de Elección**:  
- Impacto en la experiencia del usuario.
- Necesidad de disponibilidad y consistencia de la información.
- Costo de operación e infraestructura.
- Tiempo de recuperación ante fallos.

**Decisión**:  
- Se elige la **Replicación de Base de Datos.**

**Sustento**:  
- La táctica de replicación de base de datos garantiza una mayor disponibilidad del sistema, incluso si la base de datos principal falla. Aunque la estrategia de caché es más económica, la replicación de base de datos asegura que los usuarios siempre accedan a información actualizada de la disponibilidad de horarios.


## Módulo 05 - Analíticas y Reporte

| Atributo de Calidad | Estímulo | Fuente del Estímulo | Artefacto | Entorno | Respuesta | Medida de Respuesta |
| --- | --- | --- | --- | --- | --- | --- |
| Disponibilidad | Se realiza una actualización del sistema de analíticas | Equipo de desarrollo | Módulo de Analíticas | Fuera del horario laboral | El sistema se actualiza y está disponible sin interrumpir las operaciones del usuario | Tiempo de inactividad no excede los 15 minutos | 

### Táctica Elegida
**Redundancia Pasiva** para asegurar que el sistema esté disponible durante las actualizaciones, sin afectar las operaciones del usuario.

### Documentación de la Decisión (ADR)

**Título:**

Elección entre Redundancia Activa vs Redundancia Pasiva para el Módulo de Analíticas y Reporte.

**Contexto:**

El sistema de analíticas debe estar disponible en todo momento para los administradores de los salones de belleza que dependen del acceso continuo a los datos para tomar decisiones estratégicas. Las actualizaciones del sistema se programan fuera del horario laboral para minimizar interrupciones, pero la posibilidad de que surjan problemas durante estas actualizaciones requiere una táctica que permita reducir el tiempo de inactividad.

**Alternativas:**

- **Redundancia Activa:**  
  - Se mantienen múltiples servidores activos procesando solicitudes en paralelo. En caso de falla, otro servidor asume la operación sin interrupción.
  - Mayor costo de operación.
  - Tiempo de conmutación imperceptible para el usuario.
  
- **Redundancia Pasiva:**  
  - Un servidor de respaldo está en espera y se activa cuando el servidor principal falla durante la actualización.
  - Menor costo de operación.
  - Tiempo de conmutación más largo, pero aceptable fuera del horario laboral.

**Criterios de Elección:**

- Costo de operación del sistema.
- Impacto en el tiempo de inactividad durante actualizaciones.
- Disponibilidad de recursos fuera del horario laboral.
- Nivel de criticidad del módulo durante el horario no laboral.

**Decisión:**

Se elige la **Redundancia Pasiva**.

**Sustento:**

La **Redundancia Pasiva** ofrece un equilibrio adecuado entre costo y disponibilidad. Si bien tiene tiempos de conmutación más largos que la redundancia activa, el tiempo de inactividad es aceptable (menos de 15 minutos), y el menor costo de infraestructura es preferible para este caso de uso.