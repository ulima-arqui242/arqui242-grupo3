# 4.2. Mantenibilidad

## Módulo 02 - Notificaciones

| **Cod Escenario** | **Atributo de Calidad** | **Estímulo** | **Fuente del Estímulo** | **Artefacto** | **Entorno** | **Respuesta** | **Medida de Respuesta** |
| --- | --- | --- | --- | --- | --- | --- | --- |
| ESC-02 | **Mantenibilidad** | Mantenimiento del código | Equipo desarrollador | Módulo de Gestión de Notificaciones | Normal | El sistema es fácil de modificar | La modificación del sistema demora menos de un día laboral (8 horas) |

#### Táctica Elegida
Dado el escenario, se eligió dividir el módulo.

### Documentación de la Decisión (ADR)
**Titulo:** Elección entre División de Módulo vs Disminuir Acoplamiento para el Modulo de Notificaciones

**Contexto:** La plataforma le envia a los usuarios como clientes notificaciones de recordatorios de las reservas o de ofertas de los salones de belleza que sigue. Actualmente,cuando se realiza el envío de notificaciones, previamente se lleva a cabo la recolección de los datos, la verificación de estos y el envío masivo en la misma función.

Alternativas:

1. División de Módulo:

- Separa las responsabilidades en funciones independientes: una para la recolección de datos, otra para la validación y una última para el envío.
- Aumenta la modularidad, haciendo más fácil implementar mejoras y pruebas unitarias.
- Permite escalabilidad independiente: cada parte del proceso puede ser optimizada o escalada sin afectar a las otras.
- Facilita la reutilización de funciones para otros propósitos relacionados con notificaciones.
- Requiere una reestructuración inicial que podría demandar tiempo, pero mejora la capacidad de mantenimiento a largo plazo.

2. Disminuir Acoplamiento:

- Simplificar la función actual dividiendo lógicamente el proceso en etapas dentro de la misma función.
- Mantiene todo en un solo módulo, pero utilizando técnicas de desacoplamiento como manejo de eventos o middleware.
- Es solo refactorización parcial, lo que resulta en una menor inversión inicial.
- Sigue existiendo una dependencia fuerte entre etapas, lo que podría limitar la escalabilidad futura y aumentar la complejidad si se añaden nuevas funciones.
- Podría aumentar la dificultad en pruebas y mantenibilidad, ya que el código seguiría estando unido en una misma estructura.
**Criterios de Elección:**
   - Costo de inversión.
   - Beneficios Netos (Corto Plazo vs Largo Plazo)
   - Tiempo de indisponibilidad por dinero perdido.
   - Impacto en la marca.

**Decisión:** Se elige **División de Módulo**.

**Sustento:**  Dado que el Módulo de Notificaciones no impacta directamente el flujo principal de reservas y pagos, sino que se centra en informar al usuario sobre novedades y recordatorios, su eficiencia y flexibilidad a largo plazo son más relevantes que una implementación rápida. Aunque la opción de disminuir el acoplamiento es más sencilla en el corto plazo, la división de módulo ofrece mayores beneficios en términos de escalabilidad y mantenimiento, sin poner en riesgo el funcionamiento crítico del sistema. Por esta razón, se optó por dividir el módulo, ya que su impacto en el tiempo de desarrollo inicial es compensado por las mejoras a largo plazo
