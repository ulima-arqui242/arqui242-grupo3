# 3.5. Elección de Tecnología


## EDT para Gestión de Reservas

### Contexto




## EDT para Módulo de Notificaciones

### Contexto

EL módulo de notificaciones está diseñado para brindarle a los usuarios que son clientes de salones de belleza notificaciones (sean por correo o en la misma página web) de promociones, ofertas y recordatorios de citas. Dado que InStudio tiene una variedad de tipos de notificaciones, donde el contenido de cada una va diferir de la otra se ha optado por emplear un modelo de base datos NoSQL de clave valor.

### 1 Titulo: Almacenamiento de notificaciones

El almacenamiento de las notificaciones para poder enviar la información debe ser de rápido acceso y modificación. Con la opción de poder ampliar nuevos campos de ser necesario en caso se necesite. Además de tener una fácil incorporación a la plataforma que usaremos para desplegar la aplicación.

#### Alternativas

##### 1.1 Redis

- **Ventajas**:

- Baja latencia: Es una base de datos en memoria, lo que permite lecturas y escrituras rápidas, ideal para aplicaciones en tiempo real como caché, colas de mensajes o sesiones de usuario.
- Tipos de datos avanzados: Además de pares clave-valor simples, Redis soporta estructuras de datos complejas como listas, conjuntos, mapas y hashes, lo que lo hace versátil para diferentes tipos de aplicaciones.
- Escalabilidad: Redis permite escalado horizontal con Redis Cluster, ofreciendo alta disponibilidad y particionamiento de datos.
- Persistencia opcional: Redis es principalmente una base de datos en memoria, pero también soporta la persistencia de datos a disco si es necesario.

- **Desventajas:**

- Limitado por la memoria: Como Redis guarda los datos en RAM, el tamaño de los datos está limitado por la cantidad de memoria disponible, lo que puede volverse costoso si se manejan grandes volúmenes de datos.
- Operaciones distribuidas: Aunque Redis Cluster soporta operaciones distribuidas, las operaciones multi-clave en diferentes nodos pueden ser complejas y no siempre son consistentes.
- Si maneja de datos grandes, aumenta el costo.

##### 1.2 DynamoDB

- **Ventajas:**

- Totalmente gestionado: Es gestionado por AWS.
- Tiene Escalabilidad automática
- Costo por uso
- Alta disponibilidad y durabilidad por almacenar de manera distribuida la información.
- Integración con otros servicios AWS: Se integra fácilmente con otros servicios como Lambda, SNS,S3, y Kinesis.

- **Desventajas:**

- Modelo de datos limitado porque principalmente es clave valor
- Costo a largo plazo si hay un volumen alto de lectura y escritura
- Latencia mayor que Redis, pues Redis es en emmoria y dynamoDB es distruibuido

#### Criterios de Elección

- Costo 
- Escalabilidad 
- Facilidad de integración 

#### Decisión

Se elige **DynamoDB**

#### Sustento

Debido a que no se tiene que realizar mantenimiento, el costo puede ser solucionado implementando tiempo de vida de los registros según la naturaleza de las notificaciones y que pertence AWS, su integración con Amazon SNS ha de ser más sencilla que la que sería con Redis. Por lo que, emplearla permitiría un mejor desarrollo

## EDT para el módulo de Analíticas y Reporte

### Contexto

El módulo de analíticas y reporte, está diseñado para otorgar una visión amplia del rendimiento de cada salón de belleza en la plataforma InStudio, enfocado en aquellos bien o medianamente establecidos en el mercado. Las funcionalidades de este módulo están disponibles mediante la adquisición del plan organizativo. Este módulo se encarga de recopilar y almacenar métricas y datos que muestren el rendimiento de un salón, como cantidad reservas, reservas canceladas, entre otros, serán disponibles mediante un dashboard. Además de posibilitar la opción de generar reportes para un análisis más exhaustivo. El sistema manejará un gran volumen de datos en tiempo real por lo que se debe asegurar un alto rendimiento.

### 1 Titulo: Computación de métricas

Es necesario implementar un servicio que realice el cómputo de la función encargada de obtener y almacenar las métricas que se mostrarán en el dashboard del cliente. Por esta razón, se busca seleccionar opciones que permitan la ejecución de funciones bajo demanda, facilitando la escalabilidad y optimizando los costos.

#### Alternativas

#### 1.1 Stored Procedure en PostgreSQL - RDS

- **Ventajas**:
  - Procesamiento en la base de datos optimizando la latencia.
  - Mantenimiento centralizado: Facilita la gestión de la lógica y evita tener que desplegar nuevos servicios.

 - **Desventajas**:

   - Dependencia de la base de datos y potenciales cuellos de botella.
   - Complejidad de gestión a medida que crece la lógica.

#### 1.2 AWS Lambda + S3 + DuckDB

- **Ventajas**:
  - Escalabilidad automática y costo por uso.
  - DuckDB permite consultas analíticas eficientes directamente sobre archivos Parquet en S3.
  - Integración nativa con servicios de AWS y alta capacidad para manejar grandes volúmenes de datos.

- **Desventajas**:
  - Mayor esfuerzo inicial de integración y configuración.

#### Criterios de Elección

- Costo
- Requerimientos del negocio
- Escalabilidad
- Facilidad de integración

#### Decisión

Se elige AWS Lambda + S3 + DuckDB.

#### Sustento

La combinación de AWS Lambda, S3 y DuckDB permite un sistema flexible y escalable, capaz de manejar grandes volúmenes de datos de reservas en tiempo real. DuckDB permite realizar consultas directamente sobre los archivos Parquet almacenados en S3, optimizando el análisis de datos para generar reportes sin necesidad de una base de datos tradicional.